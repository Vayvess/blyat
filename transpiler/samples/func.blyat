func fast_exp(x, n) => Int {
    branch
    [n == 0] {
        return 1;
    }
    [n % 2 == 0] {
        return fast_exp(x * x, n / 2);
    }
    [else] {
        return x * fast_exp(x * x, (n - 1) / 2);
    }
}
